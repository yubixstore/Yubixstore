<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yubix Store</title>
  <style>
    :root{--brand:#0d6efd;--bg:#f8f9fa;--card:#fff;--text:#0b1220;--muted:#6b7280}
    *{box-sizing:border-box}
    body{margin:0;font-family:"Tajawal",system-ui,Arial;background:var(--bg);color:var(--text)}
    .wrap{max-width:1100px;margin:0 auto;padding:18px}

    /* Header */
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:36px;height:36px;border-radius:10px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:900}
    .hint{color:var(--muted);font-size:13px}

    /* Products grid */
    .products{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .card{background:var(--card);border-radius:14px;border:1px solid #e6edf6;box-shadow:0 6px 18px rgba(2,6,23,.05);padding:14px}
    .pimg{width:100%;aspect-ratio:1/1;border-radius:10px;background:#eef2f7;overflow:hidden;display:grid;place-items:center;margin-bottom:10px}
    .pimg img{width:100%;height:100%;object-fit:cover}
    .title{margin:0;font-weight:800}
    .price{color:var(--muted);font-size:14px;margin-top:4px}
    .btn{border:0;border-radius:10px;padding:10px 12px;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--brand);color:#fff;width:100%}

    /* Cart + form */
    .side{margin-top:22px}
    .cart{background:#fff;border:1px solid #e6edf6;border-radius:14px;padding:14px}
    .row{display:flex;justify-content:space-between;align-items:center;margin:6px 0}
    .qty{display:inline-flex;align-items:center;border:1px solid #dbe4f0;border-radius:999px;overflow:hidden}
    .qty button{width:30px;height:30px;border:0;background:#fff;cursor:pointer;font-size:18px}
    .qty input{width:46px;text-align:center;border:0;outline:none;height:30px}

    form.order{margin-top:14px;display:grid;gap:10px}
    form.order input, form.order textarea{width:100%;padding:10px;border:1px solid #dbe4f0;border-radius:10px}
    .submit{background:var(--brand);color:#fff;border:0;border-radius:12px;padding:12px;font-weight:900;cursor:pointer}

    footer{text-align:center;color:#5b6b82;margin:24px 0}
    footer .socials{display:flex;gap:10px;justify-content:center;margin-top:6px}
    footer .socials a{padding:8px 10px;border:1px solid #e6edf6;background:#fff;border-radius:10px;text-decoration:none;color:var(--text)}
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <div class="brand"><div class="logo">Y</div><div><div style="font-weight:900">Yubix Store</div><div class="hint">Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div></div></div>
      <div class="hint">Ø§Ø®ØªÙØ± Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ£ÙƒØ¯ Ø§Ù„Ø·Ù„Ø¨</div>
    </header>

    <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <section>
      <h2 style="margin:6px 0 12px 0">Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</h2>
      <div id="products" class="products"></div>
    </section>

    <!-- Ø§Ù„Ø³Ù„Ø© + ÙÙˆØ±Ù… Ø§Ù„Ø²Ø¨ÙˆÙ† (ÙÙ‚Ø· Ù‡Ø°ÙŠ Ù‡ÙŠ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯) -->
    <section class="side">
      <div class="cart">
        <h3 style="margin:0 0 8px 0">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
        <div id="cartList" class="list"></div>
        <div class="row"><div class="hint">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</div><div id="subtotal">0 Ø¯Ø¬</div></div>
        <div class="row"><div class="hint">Ø§Ù„ØªÙˆØµÙŠÙ„</div><div id="delivery">200 Ø¯Ø¬</div></div>
        <div class="row" style="font-weight:900"><div>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div><div id="grand">0 Ø¯Ø¬</div></div>

        <form id="orderForm" class="order">
          <input id="cust_name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
          <input id="cust_phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
          <textarea id="cust_addr" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" rows="3" required></textarea>
          <button class="submit" type="submit">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        </form>
      </div>
    </section>

    <footer>
      <div>Ø´ÙƒØ±Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø²ÙŠØ§Ø±Ø© ğŸ’™ ØªØ§Ø¨Ø¹ÙˆÙ†Ø§ Ø¹Ù„Ù‰ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</div>
      <div class="socials">
        <a href="#" target="_blank">ğŸ“¸ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…</a>
        <a href="#" target="_blank">ğŸµ ØªÙŠÙƒ ØªÙˆÙƒ</a>
        <a href="#" target="_blank">ğŸ“˜ ÙØ§ÙŠØ³Ø¨ÙˆÙƒ</a>
        <a href="#" target="_blank">âœˆï¸ ØªÙŠÙ„ÙŠØºØ±Ø§Ù…</a>
      </div>
    </footer>
  </main>

<script>
  // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø¨Ø¯Ù‘Ù„ Ø§Ù„ØµÙˆØ±/Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙƒÙ…Ø§ ØªØ±ÙŠØ¯)
  const PRODUCTS = [
    {id:1, name:"Ø³Ù…Ø§Ø¹Ø§Øª Ø¨Ù„ÙˆØªÙˆØ«", price:2500, img:"https://via.placeholder.com/600x600.png?text=Headphones"},
    {id:2, name:"Ø´Ø§Ø­Ù† Ø³Ø±ÙŠØ¹",     price:1200, img:"https://via.placeholder.com/600x600.png?text=Charger"},
    {id:3, name:"ÙƒØ§Ø¨Ù„ USB",       price: 500, img:"https://via.placeholder.com/600x600.png?text=Cable"}
  ];

  const productsDiv = document.getElementById("products");
  const cartList = document.getElementById('cartList');
  const subtotalEl = document.getElementById('subtotal');
  const deliveryEl = document.getElementById('delivery');
  const grandEl = document.getElementById('grand');

  // Ø³Ù„Ø©: {id, name, price, qty}
  let cart = [];

  function fmt(n){ return `${Number(n).toLocaleString('ar-DZ')} Ø¯Ø¬`; }

  function renderProducts(){
    productsDiv.innerHTML = '';
    PRODUCTS.forEach(p=>{
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="pimg"><img src="${p.img}" alt="${p.name}"></div>
        <h4 class="title">${p.name}</h4>
        <div class="price">${fmt(p.price)}</div>
        <button class="btn btn-primary" onclick="addToCart(${p.id})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
      `;
      productsDiv.appendChild(card);
    });
  }

  function addToCart(id){
    const p = PRODUCTS.find(x=>x.id===id);
    const ex = cart.find(x=>x.id===id);
    if(ex) ex.qty += 1; else cart.push({id:p.id, name:p.name, price:p.price, qty:1});
    renderCart();
    alert(p.name + ' ØªÙ…Øª Ø¥Ø¶Ø§ÙØªÙ‡ âœ…');
  }

  function setQty(id, v){
    const it = cart.find(x=>x.id===id); if(!it) return;
    it.qty = Math.max(0, Number(v||0));
    if(it.qty===0) cart = cart.filter(x=>x.id!==id);
    renderCart();
  }

  function renderCart(){
    cartList.innerHTML = '';
    let subtotal = 0;
    if(cart.length===0){ cartList.innerHTML = '<div class="hint">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>'; }
    cart.forEach(it=>{
      const line = document.createElement('div'); line.className='row';
      const linePrice = it.price * it.qty; subtotal += linePrice;
      line.innerHTML = `
        <div>${it.name} Ã— 
          <span class="qty">
            <button type="button" onclick="setQty(${it.id}, ${Math.max(0,(it.qty-1))})">âˆ’</button>
            <input type="number" min="0" value="${it.qty}" onchange="setQty(${it.id}, this.value)">
            <button type="button" onclick="setQty(${it.id}, ${it.qty+1})">+</button>
          </span>
        </div>
        <div>${fmt(linePrice)}</div>`;
      cartList.appendChild(line);
    });
    const delivery = subtotal>0 ? 200 : 0;
    subtotalEl.textContent = fmt(subtotal);
    deliveryEl.textContent = fmt(delivery);
    grandEl.textContent = fmt(subtotal + delivery);
  }

  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ Google Apps Script (ÙŠØ±Ø³Ù„ Ø£ÙŠØ¶Ø§Ù‹ Ø¥Ù„Ù‰ Telegram Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø¹Ù†Ø¯Ùƒ)
  document.getElementById('orderForm').addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('cust_name').value.trim();
    const phone= document.getElementById('cust_phone').value.trim();
    const addr = document.getElementById('cust_addr').value.trim();

    if(cart.length===0){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }

    const payload = {
      customer: { name, phone, address: addr },
      items: cart
    };

    fetch('https://script.google.com/macros/s/AKfycbwjuXH8GCoecMYbg0AO3MgX2iOe3pIOMJfJryPoPnQ3pVIYioETElY5_xUvH6My_04n/exec', {
      method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)
    })
    .then(r=> r.text())
    .then(txt=>{
      alert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
      // ØªØµÙÙŠØ©
      cart = []; renderCart();
      document.getElementById('orderForm').reset();
    })
    .catch(err=>{
      console.error(err);
      alert('âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.');
    });
  });

  // ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ
  renderProducts();
  renderCart();
</script>
</body>
</html>







