<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…ØªØ¬Ø±ÙŠ</title>
  <style>
    body {
      font-family: Tahoma, sans-serif;
      direction: rtl;
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom, #007bff, #87cefa);
    }
    h1, h2 { text-align: center; }

    /* ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
    #welcome {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
    }
    #logo img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 3px solid white;
    }
    #enterBtn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      background: white;
      color: #007bff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    /* Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
    #shop {
      display: none;
      padding: 20px;
    }
    .product {
      border: 1px solid #ddd;
      border-radius: 10px;
      margin: 10px;
      padding: 10px;
      display: inline-block;
      width: 200px;
      text-align: center;
      background: white;
    }
    .product img {
      width: 100%;
      border-radius: 10px;
    }

    /* Ø§Ù„Ø³Ù„Ø© */
    #cart {
      position: fixed;
      right: 0;
      top: 0;
      width: 250px;
      height: 100%;
      background: #f9f9f9;
      border-left: 2px solid #007bff;
      padding: 10px;
      overflow-y: auto;
    }

    /* Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      text-align: center;
    }
    .close {
      float: left;
      font-size: 20px;
      cursor: pointer;
      color: red;
    }

    /* Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
    #social {
      margin: 20px;
      text-align: center;
    }
    #social a {
      margin: 0 10px;
      text-decoration: none;
      font-size: 18px;
      color: white;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
  <div id="welcome">
    <div id="logo">
      <img src="logo.png" alt="Logo">
    </div>
    <h1>ğŸ›ï¸ Ù…ØªØ¬Ø±ÙŠ</h1>
    <button id="enterBtn">Ø§Ø¯Ø®Ù„</button>
  </div>

  <!-- Ø§Ù„Ù…ØªØ¬Ø± -->
  <div id="shop">
    <h2>Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</h2>

    <div class="product" onclick="openModal('Ù‡Ø§ØªÙ Samsung','samsung.jpg',20000)">
      <img src="samsung.jpg" alt="Samsung">
      <h3>Ù‡Ø§ØªÙ Samsung</h3>
      <p>20000 Ø¯Ø¬</p>
    </div>

    <div class="product" onclick="openModal('Ø³Ù…Ø§Ø¹Ø§Øª Bluetooth','headset.jpg',3000)">
      <img src="headset.jpg" alt="Headset">
      <h3>Ø³Ù…Ø§Ø¹Ø§Øª Bluetooth</h3>
      <p>3000 Ø¯Ø¬</p>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© -->
    <div id="productModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">âœ–</span>
        <img id="modalImg" src="" style="width:100%; border-radius:10px;">
        <h3 id="modalName"></h3>
        <p id="modalPrice"></p>
        <label>Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ†:</label>
        <select id="colorSelect">
          <option>Ø£Ø³ÙˆØ¯</option>
          <option>Ø£Ø¨ÙŠØ¶</option>
          <option>Ø£Ø²Ø±Ù‚</option>
        </select>
        <br><br>
        <button onclick="addToCartFromModal()">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
      </div>
    </div>

    <!-- Ø§Ù„Ø³Ù„Ø© -->
    <div id="cart">
      <h2>ğŸ›’ Ø§Ù„Ø³Ù„Ø©</h2>
      <ul id="cartItems"></ul>
      <hr>
      <form id="orderForm">
        <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required><br>
        <input type="text" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required><br>
        <input type="text" id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required><br>
        <input type="text" id="discount" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…"><br>
        <button type="submit">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ âœ…</button>
      </form>
      <p id="message"></p>
    </div>
  </div>

  <!-- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ -->
  <div id="social">
    <a href="#">Instagram</a>
    <a href="#">TikTok</a>
    <a href="#">Facebook</a>
    <a href="#">Telegram</a>
  </div>

  <script>
    let cart = [];
    let currentProduct = {};

    document.getElementById("enterBtn").onclick = () => {
      document.getElementById("welcome").style.display = "none";
      document.getElementById("shop").style.display = "block";
    };

    function openModal(name, img, price) {
      currentProduct = { name, img, price };
      document.getElementById("modalName").textContent = name;
      document.getElementById("modalPrice").textContent = price + " Ø¯Ø¬";
      document.getElementById("modalImg").src = img;
      document.getElementById("productModal").style.display = "flex";
    }

    function closeModal() {
      document.getElementById("productModal").style.display = "none";
    }

    function addToCartFromModal() {
      let color = document.getElementById("colorSelect").value;
      cart.push({ ...currentProduct, color, qty: 1 });
      renderCart();
      closeModal();
    }

    function renderCart() {
      const cartList = document.getElementById("cartItems");
      cartList.innerHTML = "";
      cart.forEach(item => {
        let li = document.createElement("li");
        li.textContent = `${item.name} - ${item.price} Ø¯Ø¬ - ${item.color} x${item.qty}`;
        cartList.appendChild(li);
      });
    }

    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let name = document.getElementById("name").value;
      let phone = document.getElementById("phone").value;
      let address = document.getElementById("address").value;
      let discount = document.getElementById("discount").value;

      let items = cart.map(i => `${i.name} - ${i.price}Ø¯Ø¬ - ${i.color} x${i.qty}`).join("\n");
      let total = cart.reduce((sum, i) => sum + i.price * i.qty, 0);

      if(discount === "SALE10") total *= 0.9; // 10% ØªØ®ÙÙŠØ¶

      let message = `ğŸ“¦ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:\n\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\nğŸ›’ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n${items}\nğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total} Ø¯Ø¬`;

      let token = "8279772647:AAHE7reIiqjDbW8Jkpr57KSBCKH5w0SRA60";
      let chat_id = "6514099914";

      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id, text: message })
      })
      .then(res => res.json())
      .then(data => {
        document.getElementById("message").textContent = "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨!";
        cart = [];
        renderCart();
        document.getElementById("orderForm").reset();
      })
      .catch(err => {
        document.getElementById("message").textContent = "âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!";
      });
    });
  </script>
</body>
</html>
