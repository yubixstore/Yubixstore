<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…ØªØ¬Ø± Ø£ÙŠÙˆØ¨</title>
  <style>
    body { font-family: Arial, sans-serif; direction: rtl; text-align: right; }
    .product { border: 1px solid #ccc; padding: 10px; margin: 10px; display: inline-block; width: 180px; }
    .cart { margin-top: 20px; border: 1px solid #333; padding: 10px; }
    button { padding: 5px 10px; margin-top: 5px; cursor: pointer; }
    input, textarea { width: 100%; margin: 5px 0; padding: 8px; }
  </style>
</head>
<body>

  <h1>ğŸ›ï¸ Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ø£ÙŠÙˆØ¨</h1>

  <!-- ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
  <div class="products">
    <div class="product">
      <h3>Ù‡Ø§ØªÙ Samsung</h3>
      <p>Ø§Ù„Ø³Ø¹Ø±: 35000 Ø¯Ø¬</p>
      <button onclick="addToCart('Ù‡Ø§ØªÙ Samsung', 35000)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
    </div>
    <div class="product">
      <h3>Ø³Ù…Ø§Ø¹Ø§Øª Ø¨Ù„ÙˆØªÙˆØ«</h3>
      <p>Ø§Ù„Ø³Ø¹Ø±: 5000 Ø¯Ø¬</p>
      <button onclick="addToCart('Ø³Ù…Ø§Ø¹Ø§Øª Ø¨Ù„ÙˆØªÙˆØ«', 5000)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
    </div>
    <div class="product">
      <h3>Ø´Ø§Ø­Ù† Ø£ØµÙ„ÙŠ</h3>
      <p>Ø§Ù„Ø³Ø¹Ø±: 2500 Ø¯Ø¬</p>
      <button onclick="addToCart('Ø´Ø§Ø­Ù† Ø£ØµÙ„ÙŠ', 2500)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
    </div>
  </div>

  <!-- ğŸ›’ Ø§Ù„Ø³Ù„Ø© -->
  <div class="cart">
    <h2>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h2>
    <ul id="cart"></ul>
    <p><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="total">0</span> Ø¯Ø¬</strong></p>
  </div>

  <!-- ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ† -->
  <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</h2>
  <form id="orderForm">
    <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
    <input type="text" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
    <textarea id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„" required></textarea>
    <button type="submit">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
  </form>

  <p id="status"></p>

  <script>
    let cart = [];

    function addToCart(name, price) {
      let item = cart.find(i => i.name === name);
      if (item) {
        item.qty++;
      } else {
        cart.push({ name: name, price: price, qty: 1 });
      }
      renderCart();
    }

    function renderCart() {
      let cartList = document.getElementById("cart");
      cartList.innerHTML = "";
      let total = 0;
      cart.forEach(item => {
        total += item.price * item.qty;
        cartList.innerHTML += `<li>${item.name} x${item.qty} - ${item.price * item.qty} Ø¯Ø¬</li>`;
      });
      document.getElementById("total").innerText = total;
    }

    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();
      if (cart.length === 0) {
        alert("âš ï¸ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙØ§Ø±ØºØ©!");
        return;
      }

      let data = {
        customer: {
          name: document.getElementById("name").value,
          phone: document.getElementById("phone").value,
          address: document.getElementById("address").value
        },
        items: cart
      };

      fetch("https://script.google.com/macros/s/AKfycbyuCVd2XNZLvvqa5ysYp4h0rZW_jjNlqEDz93NgKB5kwdWgvsXwisM3-nQxEoVDjQzP/exec", {
        method: "POST",
        body: JSON.stringify(data)
      })
      .then(res => res.text())
      .then(txt => {
        document.getElementById("status").innerText = txt.includes("OK") ? "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­" : "âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„";
        if (txt.includes("OK")) {
          cart = [];
          renderCart();
          document.getElementById("orderForm").reset();
        }
      })
      .catch(err => {
        document.getElementById("status").innerText = "âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„";
      });
    });
  </script>

</body>
</html>
